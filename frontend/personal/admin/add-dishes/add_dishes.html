<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Gestión de platillos · Admin</title>

  <!-- Iconos -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css" rel="stylesheet" />

  <!-- Fuente -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Favicon -->
  <link rel="icon" href="../../../img/logo_1.png" type="image/png">

  <!-- Estilos de esta vista -->
  <link rel="stylesheet" href="styles.css">
</head>

<body class="admin-body">
  <!-- ================= SIDEBAR ================= -->
  <aside class="menu-dashboard open" id="adminSidebar">
    <!-- TOP: logo + botón hamburguesa -->
    <div class="top-menu">
      <div class="logo">
        <img src="../../../img/logo_1.png" alt="Logo La Parrilla Azteca">
        <span>Panel Admin</span>
      </div>

      <!-- Botón SIEMPRE visible (abierto / cerrado) -->
      <button class="toggle" id="sidebarToggle" aria-label="Contraer o expandir menú">
        <i class="bx bx-menu"></i>
      </button>
    </div>

    <!-- Usuario -->
    <div class="user-box">
      <img id="sidebarUserImg" class="user-photo" src="../../../img/userplaceholder.png" alt="Usuario">
      <div class="user-info">
        <span id="sidebarUserName">Administrador</span>
      </div>
    </div>

    <!-- Menú lateral -->
    <nav class="menu">
      <span class="menu-label">MENÚ PRINCIPAL</span>

      <a class="enlace" href="../dashboard/dashboard.html">
        <i class="bx bx-grid-alt"></i>
        <span>Dashboard</span>
      </a>

      <a class="enlace" href="../employee-management/employee.html">
        <i class="bx bx-group"></i>
        <span>Gestión Empleados</span>
      </a>

      <a class="enlace" href="../gestioncajas/gestioncajas.html">
        <i class="bx bx-store"></i>
        <span>Gestión Cajas</span>
      </a>

      <a class="enlace active" href="add_dishes.html">
        <i class="bx bx-restaurant"></i>
        <span>Añadir Platillo</span>
      </a>
    </nav>

    <!-- Parte inferior fija -->
    <div class="sidebar-bottom">
      <button id="adminThemeToggle" class="sidebar-theme-toggle">
        <i class="bx bx-moon"></i>
        <span>Modo oscuro</span>
      </button>

      <button id="logoutBtn" class="logout-btn">
        <i class="bx bx-log-out"></i>
        <span>Cerrar sesión</span>
      </button>
    </div>
  </aside>

  <!-- =============== CONTENIDO PRINCIPAL =============== -->
  <main class="dishes-main">
    <!-- Header -->
    <header class="dishes-header">
      <div class="dishes-header-text">
        <h1>Gestión de platillos</h1>
        <p>Administra el menú de La Parrilla Azteca: crea, edita y organiza tus platillos.</p>
      </div>

      <button class="btn-add-dish" id="openDishModal">
        <i class="fa-solid fa-utensils"></i>
        Agregar nuevo platillo
      </button>
    </header>

    <!-- Tarjeta tabla -->
    <section class="dishes-card">
      <div class="dishes-card-header">
        <div>
          <h2>Platillos actuales</h2>
          <p>Listado de todos los platillos registrados en el sistema.</p>
        </div>

        <div class="dishes-card-meta">
          <span class="pill pill-total">
            <i class="fa-regular fa-rectangle-list"></i>
            Total de registros en tiempo real
          </span>
        </div>
      </div>

      <div class="table-responsive">
        <table id="dishes-table" class="admin-table">
          <thead>
            <tr>
              <th>#</th>
              <th>Imagen</th>
              <th>Nombre</th>
              <th>Categoría</th>
              <th>Precio</th>
              <th>Estado</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            <!-- Se llena con JS -->
          </tbody>
        </table>
      </div>
    </section>
  </main>

  <!-- Overlay -->
  <div class="dish-overlay" id="dishOverlay"></div>

  <!-- Modal agregar / editar platillo -->
  <section class="dish-modal" id="dishModal" aria-hidden="true">
    <div class="dish-modal-header">
      <h3 class="dish-modal-title" id="dishModalTitle">Agregar nuevo platillo</h3>
      <button class="dish-close-btn" id="closeDishModal" aria-label="Cerrar formulario">&times;</button>
    </div>

    <form id="dish-form">
      <input type="hidden" id="dishId" />

      <div class="dish-form-group">
        <label for="dishName">Nombre</label>
        <input
          id="dishName"
          type="text"
          name="nombre"
          placeholder="Ej. Arrachera a la parrilla"
          required
        />
      </div>

      <div class="dish-form-group">
        <label for="dishDescription">Descripción</label>
        <textarea
          id="dishDescription"
          name="descripcion"
          placeholder="Ej. Arrachera marinada con nopales y cebollitas."
          required
        ></textarea>
      </div>

      <div class="dish-form-row">
        <div class="dish-form-group">
          <label for="dishPrice">Precio</label>
          <div class="dish-input-prefix">
            <span>$</span>
            <input
              id="dishPrice"
              type="number"
              name="precio"
              min="0"
              step="0.01"
              placeholder="199.00"
              required
            />
          </div>
        </div>

        <div class="dish-form-group">
          <label for="dishCategory">Categoría</label>
          <select id="dishCategory" name="categoria" required>
            <option value="" disabled selected>Selecciona una categoría</option>
            <option value="entradas">Entradas</option>
            <option value="tacos">Tacos</option>
            <option value="parrilladas">Parrilladas</option>
            <option value="carnes">Carnes</option>
            <option value="mariscos">Mariscos</option>
            <option value="burgers">Hamburguesas</option>
            <option value="antojitos">Antojitos</option>
            <option value="guarniciones">Guarniciones</option>
            <option value="ensaladas">Ensaladas</option>
            <option value="sopas">Sopas</option>
            <option value="infantil">Infantil</option>
            <option value="postres">Postres</option>
            <option value="bebidas">Bebidas</option>
            <option value="cervezas">Cervezas</option>
            <option value="cocteles">Cócteles</option>
            <option value="vinos">Vinos</option>
            <option value="especialidades">Especialidades</option>
          </select>
        </div>
      </div>

      <div class="dish-form-group">
        <label for="dishImage">Imagen</label>
        <label class="dish-file-input">
          <i class="fa-regular fa-image"></i>
          <span id="dishFileText">Haz clic para subir imagen</span>
          <input id="dishImage" type="file" name="imagen" accept="image/*" />
        </label>
      </div>

      <button type="submit" class="dish-submit-btn" id="dishSubmitBtn">
        <i class="fa-solid fa-check"></i>
        Guardar platillo
      </button>
    </form>
  </section>

  <!-- JS -->
  <script src="js/form-handler.js"></script>
  <script src="js/admin_theme.js"></script>
</body>
</html>
