<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="keywords" content="Restaurante, Mexicano, Comida, Turnos, Reservaciones, La Parrilla Azteca" />
  <meta name="description" content="Bienvenido a La Parrilla Azteca, tu restaurante mexicano favorito. Toma tu turno y disfruta de nuestra deliciosa comida." />
  <title>La Parrilla Azteca · Inicio</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- TOPBAR -->
  <header class="topbar">
    <button class="menu-toggle" id="menuToggle" aria-label="Abrir menú">☰</button>
    <div class="brand">
      <a href="index.html" class="logo-link">
        <img class="logo" src="../img/logo_1.png" alt="La Parrilla Azteca" />
      </a>
      <span class="brand-text">LA PARRILLA AZTECA</span>
    </div>
  </header>

  <!-- SIDEBAR -->
  <nav class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <img src="../img/logo_1.png" alt="Logo">
      La Parrilla Azteca
    </div>

    <div class="sidebar-profile">
      <img src="https://i.imgur.com/RbLqQ2C.png" alt="Avatar">
      <h4>Bienvenido</h4>
      <p>¡Explora el menú!</p>
      <div class="sidebar-login-btn">
        <a href="../login/login.html" class="btn-login" id="btn-login">
          Iniciar sesión
        </a>
        <button class="btn-logout" id="btn-logout" style="display: none;">
          <i class="fas fa-sign-out-alt"></i> Cerrar sesión
        </button>
      </div>
    </div>

    <hr>

    <ul id="menuList">
      <!-- El contenido del menú cambiará según el rol -->
    </ul>

    <hr>
    <div class="sidebar-footer">
      <p>© 2025 <span>Innovatech</span><br>Versión 1.0.1</p>
    </div>
  </nav>

  <!-- CONTENIDO PRINCIPAL -->
  <main class="layout">
    <section class="menu-section">
      <div class="category-section">
        <h2 class="section-title">Categorías</h2>
        <div class="category-grid">
          <!-- Aquí van las categorías -->
        </div>
      </div>

      <div class="special-menu">
        <h2 class="section-title">Menú Especial</h2>
        <div class="menu-grid" id="menuGrid">
          <!-- Aquí se cargarán los platillos -->
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="footer-container">
      <p>&copy; 2025 Innovatech | Versión 1.0.1</p>
    </div>
  </footer>

  <script src="js/load-dishes.js"></script>
  <script src="js/orderDetails.js"></script>
  <script src="js/sidebar.js" defer></script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const role = localStorage.getItem('role');
      const btnLogin = document.getElementById('btn-login');
      const btnLogout = document.getElementById('btn-logout');
      const menuList = document.getElementById('menuList');

      // Mostrar el botón de login/logout dependiendo del estado de la sesión
      if (role) {
        btnLogin.style.display = 'none';
        btnLogout.style.display = 'block';
        // Dependiendo del rol, actualizar el menú
        if (role === 'admin') {
          menuList.innerHTML = `
            <li><a href="/admin/dashboard.html"><i class="fas fa-home"></i> Dashboard</a></li>
            <li><a href="/admin/manage-employees.html"><i class="fas fa-users"></i> Gestionar Empleados</a></li>
            <li><a href="/admin/manage-dishes.html"><i class="fas fa-pizza-slice"></i> Gestionar Platillos</a></li>
          `;
        } else if (role === 'empleado') {
          menuList.innerHTML = `
            <li><a href="/employee/orders.html"><i class="fas fa-cash-register"></i> Pedidos</a></li>
            <li><a href="/employee/menu.html"><i class="fas fa-pizza-slice"></i> Ver Menú</a></li>
          `;
        } else {
          menuList.innerHTML = `
            <li><a href="/user/view-menu.html"><i class="fas fa-utensils"></i> Ver Menú</a></li>
            <li><a href="/user/orders.html"><i class="fas fa-cash-register"></i> Mis Pedidos</a></li>
          `;
        }
      } else {
        btnLogin.style.display = 'block';
        btnLogout.style.display = 'none';
        // Menú para usuarios no autenticados
        menuList.innerHTML = `
          <li><a href="/login/login.html"><i class="fas fa-sign-in-alt"></i> Iniciar sesión</a></li>
          <li><a href="/login/register.html"><i class="fas fa-user-plus"></i> Registrarse</a></li>
        `;
      }

      // Lógica de cerrar sesión
      btnLogout.addEventListener('click', () => {
        localStorage.clear();
        window.location.href = "/login/login.html"; // Redirigir a login después de cerrar sesión
      });
    });
  </script>
</body>
</html>
